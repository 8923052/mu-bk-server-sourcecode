#include "GInclude.h"
#include "TRSManager.h"
#include "Main.h"
#include "RSProtocol.h"

//-------------------------------------------------------------------------------------------------------------------------------------------
// # Made by Leo123[BoR]
//-------------------------------------------------------------------------------------------------------------------------------------------

TRSManager	g_TRSManager;
int			g_RSConnectedCount;
//-------------------------------------------------------------------------------------------------------------------------------------------

TRSManager::TRSManager(void)
{
	// ----
}
//-------------------------------------------------------------------------------------------------------------------------------------------

TRSManager::~TRSManager(void)
{
	// ----
}
//-------------------------------------------------------------------------------------------------------------------------------------------

void TRSManager::OnError(const char * szMessage, ...)
{
	g_Log.VLogAddFormat(g_Colors.Red(), szMessage);
}
//-------------------------------------------------------------------------------------------------------------------------------------------

void TRSManager::OnMessage(const char * szMessage, ...)
{
	g_Log.VLogAddFormat(g_Colors.DarkGreen()+20, szMessage);
}
//-------------------------------------------------------------------------------------------------------------------------------------------

void TRSManager::OnRecv(int aIndex, BYTE HeadCode, LPBYTE aRecv, int iSize)
{
	RSProtocolCore(this, aIndex, HeadCode , aRecv , iSize);
}
//-------------------------------------------------------------------------------------------------------------------------------------------

void TRSManager::OnSearch(int aIndex)
{
}
//-------------------------------------------------------------------------------------------------------------------------------------------

void TRSManager::OnConnect(int aIndex)
{
	g_Log.LogAdd(g_Colors.Blue(), "[CDSManager][OnConnect] :: %d connected!", aIndex);
	// ----
	g_RSConnectedCount++;
}
//-------------------------------------------------------------------------------------------------------------------------------------------

void TRSManager::OnDisconnect(int aIndex)
{
	g_Log.LogAdd(g_Colors.Blue(), "[CDSManager][OnDisconnect] :: %d disconnected!", aIndex);
	// ----
	g_RSConnectedCount--;
}
//-------------------------------------------------------------------------------------------------------------------------------------------
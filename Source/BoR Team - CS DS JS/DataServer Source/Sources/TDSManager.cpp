#include "GInclude.h"
#include "TDSManager.h"
#include "Main.h"
#include "DSProtocol.h"

//-------------------------------------------------------------------------------------------------------------------------------------------
// # Made by Leo123[BoR]

//-------------------------------------------------------------------------------------------------------------------------------------------

CDSManager	g_DSManager[];
int			g_ConnectedCount;
//-------------------------------------------------------------------------------------------------------------------------------------------

CDSManager::CDSManager(void)
{
	// ----
}
//-------------------------------------------------------------------------------------------------------------------------------------------

CDSManager::~CDSManager(void)
{
	// ----
}
//-------------------------------------------------------------------------------------------------------------------------------------------

void CDSManager::OnError(const char * szMessage, ...)
{
	g_Log.VLogAddFormat(g_Colors.Red(), szMessage);
}
//-------------------------------------------------------------------------------------------------------------------------------------------

void CDSManager::OnMessage(const char * szMessage, ...)
{
	g_Log.VLogAddFormat(g_Colors.Green(), szMessage);
}
//-------------------------------------------------------------------------------------------------------------------------------------------

void CDSManager::OnRecv(int aIndex, BYTE HeadCode, LPBYTE aRecv, int iSize)
{
	DSProtocolCore(this, aIndex, HeadCode , aRecv , iSize);
}
//-------------------------------------------------------------------------------------------------------------------------------------------

void CDSManager::OnSearch(int aIndex)
{
}
//-------------------------------------------------------------------------------------------------------------------------------------------

void CDSManager::OnConnect(int aIndex)
{
	g_Log.LogAdd(g_Colors.Blue(), "[CDSManager][OnConnect] :: %d connected!", aIndex);
	// ----
	g_ConnectedCount++;
}
//-------------------------------------------------------------------------------------------------------------------------------------------

void CDSManager::OnDisconnect(int aIndex)
{
	g_Log.LogAdd(g_Colors.Blue(), "[CDSManager][OnDisconnect] :: %d disconnected!", aIndex);
	// ----
	g_ConnectedCount--;
}
//-------------------------------------------------------------------------------------------------------------------------------------------
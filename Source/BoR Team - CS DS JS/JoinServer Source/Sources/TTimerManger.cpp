#include "GInclude.h"
#include "Main.h"
#include "TTimerManger.h"
#include "TServerManager.h"

//-------------------------------------------------------------------------------------------------------------------------------------------
// # Made by  : [RCZ]ShadowKing

//-------------------------------------------------------------------------------------------------------------------------------------------

CTimerManager g_TimerManager;
//-------------------------------------------------------------------------------------------------------------------------------------------

CTimerManager::CTimerManager(void)
{

}
//-------------------------------------------------------------------------------------------------------------------------------------------

CTimerManager::~CTimerManager(void)
{

}
//-------------------------------------------------------------------------------------------------------------------------------------------

void CTimerManager::OnSecond()
{
	g_ServerManager.StuckAccountScan();
}
//-------------------------------------------------------------------------------------------------------------------------------------------

void CTimerManager::OnMinute()
{
	g_Main.m_CsHandle = FindWindowA("[- MUBK eCS -]", NULL);
	// ----
	if(g_Main.m_CsHandle == NULL)
	{
		g_Log.LogAdd(g_Colors.Purple(), "[CTimerManager][OnMinute] :: ConnectServer not alive");
	}
	else
	{
		g_Log.LogAdd(g_Colors.Purple(), "[CTimerManager][OnMinute] :: ConnectServer alive");
	}
}
//-------------------------------------------------------------------------------------------------------------------------------------------